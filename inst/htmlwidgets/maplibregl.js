(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();class t{constructor(e){this._map=e}addControl(e){const t=this._map,o=new maplibregl[e.name](e.options);t.addControl(o,e.pos)}addLayer(e){this._map.addLayer(e.style)}addTooltip(e){const t=this._map,o=e.layerId,n=new maplibregl.Popup({closeButton:!1,closeOnClick:!1});t.on("mousemove",o,(o=>{t.getCanvas().style.cursor="pointer";const a=Object.values(o.lngLat),r=(o.features[0],e.tooltip);n.setLngLat(a).setHTML(r).addTo(t)})),t.on("mouseleave",o,(()=>{t.getCanvas().style.cursor="",n.remove()}))}render(e){e.forEach((({methodName:e,args:t})=>this[e](t)))}}const o=e.g.maplibreglWidget={_widgets:{}};HTMLWidgets.widget({name:"maplibregl",type:"output",factory:function(e,n,a){let r=null,s=null;const l=o._widgets[e.id]={};return{renderValue:function(o){console.log(o),o.mapProps.container=e.id,r=l.map=new maplibregl.Map(o.mapProps),s=l.viz=new t(r),r.on("load",(()=>s.render(o.calls)))},resize:function(e,t){}}}})})();